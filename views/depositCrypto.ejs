<div class="flex flex-col items-center gap-4">

	<div class="crypto-panel flex flex-col gap-4 w-full max-w-4xl">
		<!-- Step 1: Select Currency -->
		<div class="flex flex-col gap-2">
			<label class="text-sm font-semibold text-muted-foreground">1. Select Currency</label>
			<div class="bg-card border-2 border-secondary rounded-lg p-4">
				<div class="flex flex-row items-center gap-3">
					<img src="/img/payments/crypto/<%= app.paths[2] %>.png" alt="<%= response.deposit.name %>" style="width: 16px; height: 16px; max-width: 16px; max-height: 16px;">
					<div class="flex flex-col">
						<div class="font-bold text-lg"><%= response.deposit.name %></div>
						<div class="text-xs text-muted-foreground"><%= app.paths[2].toUpperCase() %></div>
					</div>
				</div>
			</div>
		</div>

		<!-- Step 2: Select Network -->
		<div class="flex flex-col gap-2">
			<label class="text-sm font-semibold text-muted-foreground">2. Select Network</label>
			<div class="bg-card border-2 border-secondary rounded-lg p-4">
				<div class="font-bold text-lg"><%= response.deposit.network %></div>
			</div>
		</div>

		<!-- Step 3: Deposit Address -->
		<div class="flex flex-col gap-2">
			<label class="text-sm font-semibold text-muted-foreground">3. Deposit Address</label>
			<div class="bg-card border-2 border-secondary rounded-lg p-4">
				<div class="flex flex-row gap-4 responsive">
					<!-- QR Code -->
					<div class="crypto-deposit-qrcode <%= app.paths[2] %> flex-shrink-0" id="crypto_deposit_qrcode" style="width: 200px; height: 200px; min-width: 200px;"></div>

					<!-- Address Field -->
					<div class="flex flex-col gap-3 flex-1">
						<div class="flex flex-row items-center gap-2">
							<%- include('./components/inputField.ejs', {
								type: 'text',
								placeholder: 'Deposit address',
								id: 'crypto_deposit_payment_address',
								value: '',
								attributes: [
									{ name: 'readonly', value: 'readonly' }
								]
							}); %>
							<button type="button" class="button button-primary shadow-2 px-4 py-2" data-copy="input" data-input="#crypto_deposit_payment_address">
								<i class="fa fa-copy" aria-hidden="true"></i>
							</button>
						</div>

						<!-- Important Instructions -->
						<div class="bg-danger-10 border-2 border-danger rounded-lg p-3">
							<div class="text-sm font-semibold text-danger">
								Send only <%= app.paths[2].toUpperCase() %> on the <%= response.deposit.network %> network. $<%= response.deposit.amounts.min %> minimum deposit, 1 confirmation required.
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Deposit Amount Section (Hidden initially, shown after address generation) -->
		<div class="submit flex flex-col gap-2 hidden" id="crypto_deposit_amount_section">
			<div class="bg-card border-2 border-secondary rounded-lg p-4">
				<div class="flex flex-col gap-3">
					<div class="text-base font-bold">Deposit Amount</div>
					<%- include('./components/inputField.ejs', {
						type: 'text',
						placeholder: 'Amount ' + response.deposit.name,
						currency: app.paths[2],
						id: 'crypto_deposit_value',
						attributes: [
							{ name: 'data-conversion', value: 'to' },
							{ name: 'data-currency', value: app.paths[2] }
						],
						errors: [ 'number' ]
					}); %>
					<div class="text-xs text-muted-foreground">Minimum: $<%= response.deposit.amounts.min %>, Maximum: $<%= response.deposit.amounts.max %></div>
				</div>
			</div>
		</div>

		<!-- Back Button -->
		<div class="flex justify-start">
			<a href="/deposit"><button class="button button-accent shadow-2 flex flex-row gap-2 items-center justify-center">
				<i class="fa fa-arrow-left" aria-hidden="true"></i>
				<span>Back to Options</span>
			</button></a>
		</div>
	</div>
</div>
