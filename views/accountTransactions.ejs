<div class="flex flex-col gap-2">
	<div class="flex flex-col gap-4">
        <div class="flex flex-col gap-2">
            <div class="flex flex-col gap-4 bg-card bg-opacity-50 rounded-2 border-2 border-card pt-8 pb-4 px-4">
                <div class="flex flex-col gap-2 items-center">
                    <div class="avatar-field tier-<%= response.account.user.level.tier %>">
                        <img class="avatar icon-huge rounded-full" src="<%= response.account.user.avatar %>">
                    </div>

                    <div class="flex justify-center gap-2 font-bold text-xl">
                        <div class="capitalize chat-link-<%= response.account.user.rank %>"><%= response.account.user.rank %></div>

                        <div class="truncate"><%= response.account.user.name %></div>
                    </div>

                    <div class="level-bar flex items-center gap-1">
                        <div class="font-bold">Lvl. <%= Math.min(response.account.user.level.level + 1, 100) - 1 %></div>

                        <div class="progress-container rounded-1">
                            <% var style = 'style="width: ' + response.account.user.level.progress + '%;"'; %>

                            <div class="progress-bar transition duration-200 ease-linear rounded-1" <%- style %>></div>
                            <div class="progress-content flex flex-row justify-center items-center gap-1 font-bold">
                                <span><%= response.account.user.level.have %></span>
                                <span>/</span>
                                <span><%= response.account.user.level.next %></span>
                            </div>
                        </div>

                        <div class="font-bold"><%= Math.min(response.account.user.level.level + 1, 100) %></div>
                    </div>
                </div>

                <div class="flex responsive flex-row gap-2 items-center justify-between">
                    <div class="text-muted-foreground">Member since <%= response.account.user.created %></div>
                    <div><span class="text-muted-foreground">User ID:</span> <%= response.account.user.userid %></div>
                </div>
            </div>

            <div class="flex responsive flex-row gap-2">
                <div class="flex flex-col items-center gap-1 bg-card bg-opacity-50 rounded-2 border-2 border-card p-4 w-full">
                    <div class="text-muted-foreground font-bold">Deposited</div>
                    <div class="flex flex-row items-center justify-center gap-1">
                        <div class="coin main"></div>
                        <span class="text-primary text-xl"><%= response.account.stats.deposited %></span>
                    </div>
                </div>

                <div class="flex flex-col items-center gap-1 bg-card bg-opacity-50 rounded-2 border-2 border-card p-4 w-full">
                    <div class="text-muted-foreground font-bold">Withdrawn</div>
                    <div class="flex flex-row items-center justify-center gap-1">
                        <div class="coin main"></div>
                        <span class="text-primary text-xl"><%= response.account.stats.withdrawn %></span>
                    </div>
                </div>

                <div class="flex flex-col items-center gap-1 bg-card bg-opacity-50 rounded-2 border-2 border-card p-4 w-full">
                    <div class="text-muted-foreground font-bold">Wagered</div>
                    <div class="flex flex-row items-center justify-center gap-1">
                        <div class="coin main"></div>
                        <span class="text-primary text-xl"><%= response.account.stats.wagered %></span>
                    </div>
                </div>

                <div class="flex flex-col items-center gap-1 bg-card bg-opacity-50 rounded-2 border-2 border-card p-4 w-full">
                    <div class="text-muted-foreground font-bold">Profit</div>
                    <div class="flex flex-row items-center justify-center gap-1">
                        <div class="coin main"></div>
                        <span class="text-primary text-xl"><%= response.account.stats.profit %></span>
                    </div>
                </div>
            </div>
        </div>

        <div class="account-tabs top flex flex-wrap flex-row gap-2 border-b-2 border-card">
            <a href="/account/settings"><button class="button">Settings</button></a>
            <a href="/account/deposits"><button class="button">Balance History</button></a>
            <a href="/account/games"><button class="button">Games History</button></a>
            <a href="/account/transactions"><button class="button active">Transactions History</button></a>
            <a href="/account/exclusion"><button class="button">Self Exclusion</button></a>
            <a href="/account/security"><button class="button">Security</button></a>
        </div>

        <div class="table-container">
            <div class="table-header">
                <div class="table-row">
                    <div class="table-column text-left">Id</div>
                    <div class="table-column text-left">Service</div>
                    <div class="table-column text-left">Amount</div>
                    <div class="table-column text-left">Date</div>
                </div>
            </div>

            <div class="table-body" id="account_transactions">
                <% if(response.account.transactions.list.length > 0){ %>
                    <% response.account.transactions.list.forEach(function(item){ %>
                        <div class="table-row <% if(item.amount < 0){ %>text-danger<% } else { %>text-success<% } %>">
                            <div class="table-column text-left">#<%= item.id %></div>
                            <div class="table-column text-left capitalize"><%= item.service.split('_').join(' ') %></div>
                            <div class="table-column text-left"><%= item.amount %></div>
                            <div class="table-column text-left"><%= item.date %></div>
                        </div>
                    <% }); %>
                <% } else { %>
                    <%- include('./components/emptyTable.ejs', {
                        title: 'No data found'
                    }); %>
                <% } %>
            </div>

            <div class="table-footer">
                <div class="flex items-center justify-center bg-secondary p-2">
                    <%- include('./components/pageNavigator.ejs', {
                        id: 'pagination_account_transactions',
                        page: response.account.transactions.page,
                        pages: response.account.transactions.pages
                    }); %>
                </div>
            </div>
        </div>
    </div>
</div>